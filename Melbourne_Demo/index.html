<!DOCTYPE html>
<html>
<head>

<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

<script type="text/javascript" src="https://demonstration-spectrum.github.io/geoxml3.js"></script>  <!-- https://docs.google.com/uc?export=download&id=0B7ae91JhWDOFREVRbUttQTcyTUU -->
<script type="text/javascript" src="https://demonstration-spectrum.github.io/geoxml3_gxParse_kmz.js"></script>  <!-- https://docs.google.com/uc?export=download&id=0B7ae91JhWDOFRWlLOXRJdHpVT1E-->
<script type="text/javascript" src="https://demonstration-spectrum.github.io/ZipFile.complete.js"></script>  <!-- https://docs.google.com/uc?export=download&id=0B7ae91JhWDOFQWJ2bW9DWnpnZW8-->
<script>
		google.load('visualization', '1', {'packages':['corechart', 'table', 'geomap']}); //this has to be put here to ensure loaded for later functions//or using callback
</script>
<link rel="stylesheet" type="text/css" href="theme.css">
<style></style>

</head>
<body>


	<section id="legend-section">
			 <div class="header"><h4>Demo</h4></div>
			 <div id="legend">
			 	  <h4 style=""> LEGEND </h4>
			 	  <div class="legend"><img src="https://maps.google.com/mapfiles/ms/icons/green-dot.png"><span>Store Location</span></div>

				  <div class="legend"><img src="https://maps.google.com/mapfiles/ms/icons/red-dot.png"><span>Competitors</span></div>
				  <div class="legend">
				  	   <h4>SEIFA</h4>
					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#0b5394;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Highest</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#9fc5e8;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>2nd Highest</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#cfe2f3;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Middle</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#ea9999;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>2nd Lowest</span>	</br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#990000;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Lowest</span>		</br>
				  </div>
				  <div class="legend">
				  	   <h4>Population Density</h4>
					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#006030;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Highest</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#00B058;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>2nd Highest</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#00FF80;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Middle</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#70FFB8;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>2nd Lowest</span>	</br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#B0FFB0;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Lowest</span>		</br>
				  </div>
				  <div class="legend">
				  	   <h4>Building Approval Change 2011-2016</h4>
					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#274e13;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Highest</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#b6d7a8;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>2nd Highest</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#f9cb9c;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Middle</span></br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#ea9999;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>2nd Lowest</span>	</br>

					   <svg width="50" height="22">
					   		  <rect width="45" height="20" style="fill:#990000;stroke-width:0;stroke:rgb(0,0,0)" />
					   </svg>
					   <span>Lowest</span>		</br>
				  </div>
			 </div>
			 <br>
			 <button onclick = "reset_layer();"> Reset Layers </button>
			 <br>

			 
			 
			 <div class= "footnote">
			   	  <img src="http://www.spectrumanalysis.com.au/uploads/3/1/8/6/31864321/1410756864.jpg">
				  <div id="footnote_text">
				  			 	  <span>Â© Spectrum Analysis</span></br>
				  				  <span style="word-break:break-all;">w: spectrumanalysis.com.au</span></br>
								  <span>p: (03) 9830 0077</span></br>
								  <span>June 2017</span></br>
								  <span></span></br>
				  </div>

			 </div>
	</section>
	<section id="map-section">
		<input id="pac-input" class="controls" type="text" placeholder="Search Box">
    		 <div id="map"></div>

	</section>

	<section id="navigation">
		<h4><span>Store Locations</span>
			<span id="checkall" class="button" ul="store_location_list">Check All</span>
		</h4>
		<input type="text" class="filter_box" ul="store_location_list" placeholder="Search for names..">
		<form>
			  <ul id="store_location_list" class='scroll-box'>
			  	 <!-- SAMPLE <li><input type="checkbox" value="Albury" checked><span class="territory button">Albury</span></li> -->
		      </ul>
		</form>
		<h4><span>Competitors</span>
			<span id="checkall" class="button" ul="comp_list">Check All</span>
		</h4>
		<input type="text" class="filter_box" id="myInput" ul="comp_list" placeholder="Search for names..">
		<form>
			  <ul id="comp_list" class='scroll-box'>
			  	 <!-- SAMPLE <li><input type="checkbox" value="Albury" checked><span class="territory button">Albury</span></li> -->
		      </ul>
		</form>
		<h4><span>Territory</span>
			<span id="checkall" class="button" ul="territory_list">Check All</span>
		</h4>
		<input type="text" class="filter_box" ul="territory_list" placeholder="Search for names..">
		<form>
			  <ul id="territory_list" class='scroll-box'>
			  	 <!-- SAMPLE <li><input type="checkbox" value="Albury" querytype="seifa" checked><span class="territory button">Albury</span></li> -->
		      </ul>
		</form>

		<h4><span>SEIFA</span>
			<span id="checkall" class="button" ul="seifa_list">Check All</span>
		</h4>
		<input type="text" class="filter_box" ul="seifa_list" placeholder="Search for names..">
		<form>
			  <ul id="seifa_list" class='scroll-box'>
			  	 <!-- SAMPLE <li><input type="checkbox" value="Albury" querytype="seifa" checked><span class="territory button">Albury</span></li> -->
		      </ul>
		</form>

		<h4><span>Population Density</span>
			<span id="checkall" class="button" ul="pop_density_list">Check All</span>
		</h4>
		<input type="text" class="filter_box" id="myInput" ul="pop_density_list" placeholder="Search for names..">
		<form>
			  <ul id="pop_density_list" class='scroll-box'>
			  	 <!-- SAMPLE <li><input type="checkbox" value="Albury" checked><span class="territory button">Albury</span></li> -->
		      </ul>
		</form>
		<h4><span>Building Approval Change 2011 - 2016</span>
			<span id="checkall" class="button" ul="building_approval_list">Check All</span>
		</h4>
		<input type="text" class="filter_box" id="myInput" ul="building_approval_list" placeholder="Search for names..">
		<form>
			  <ul id="building_approval_list" class='scroll-box'>
			  	 <!-- SAMPLE <li><input type="checkbox" value="Albury" checked><span class="territory button">Albury</span></li> -->
		      </ul>
		</form>


	</section>







    <script>
          var map;
          var uluru;
          var marker;
          var marketing_area_layer;
          var competitor_layer;
          function initMap() {
              uluru = {lat: -37.8797358, lng: 145.0440625};
              map = new google.maps.Map(document.getElementById('map'), {zoom:11, center: uluru });
              	init_inputsearch();
        	  territory_layer = new google.maps.FusionTablesLayer({query: {select: '\'col2\'',from: '18Nifm-lKVVdaZa2J0HXiS-Xu1ncppA783e7lVJdm'}, options: {styleId: 2, templateId: 2}  });
        	  territory_layer.setMap(map);
			  
        	  seifa_layer = new google.maps.FusionTablesLayer({query: {select: '\'col2\'',from: '1e4IqA448df06v1bWrrN2h9NrThRVrEaky2Uy7ajg'}, options: {styleId: 2, templateId: 2}  });
        	  seifa_layer.setMap(null);
        	  pop_density_layer = new google.maps.FusionTablesLayer({query: {select: '\'col2\'',from: '1tKDcENAXfHD7Bk-q6S6hs0n88-z9NFlQpl8NUWb6'}, options: {styleId: 2, templateId: 2}  });
        	  pop_density_layer.setMap(null);
        	  building_approval_layer = new google.maps.FusionTablesLayer({query: {select: '\'col2\'',from: '1deeKWARIb3QYbIiwaxvscKg_aFqrmaM8wYvGaOzq'}, options: {styleId: 2, templateId: 2}  });
        	  building_approval_layer.setMap(null);





			  competitor_layer = new geoXML3.parser({
					map: map,
					zoom: false,
					singleInfoWindow: true,
					markerOptions: {
						icon: "https://maps.google.com/mapfiles/ms/icons/red-dot.png",
						zIndex: 100
					}
              });

			  competitor_layer.parse('https://demonstration-spectrum.github.io/Melbourne_Demo/Competitors_demo.kmz');


			  store_location_layer = new geoXML3.parser({
					map: map,
					zoom: false,
					singleInfoWindow: true,
					markerOptions: {
						icon: {url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png", scaledSize: new google.maps.Size(50,50)}
					}
              });
			  store_location_layer.parse('https://demonstration-spectrum.github.io/Melbourne_Demo/Store_Locations_demo.kmz');






            }
    </script>
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfM2G-dd5qJ5A09ffhzyH7YrHinEVE9po&callback=initMap"  type="text/javascript"></script>
	<script src="value.js" type="text/javascript"></script>
	<script src="address_search.js" type="text/javascript"></script>
    	<script src="script.js" type="text/javascript"></script>
	<script src="zoom.js" type="text/javascript"></script>
	<script src="filter.js" type="text/javascript"></script>
	<script src="reset_layer.js" type="text/javascript"></script>
</body>
</html>
